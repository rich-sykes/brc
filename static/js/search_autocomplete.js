$(function () {
        // Remove Search if user Resets Form or hits Escape!
		$('body, .navbar-collapse form[role="search"] button[type="reset"]').on('click keyup', function(event) {
			console.log(event.currentTarget);
			if (event.which == 27 && $('.navbar-collapse form[role="search"]').hasClass('active') ||
				$(event.currentTarget).attr('type') == 'reset') {
				closeSearch();
			}
		});

		function closeSearch() {
            var $form = $('.navbar-collapse form[role="search"].active')
    		$form.find('input').val('');
			$form.removeClass('active');
		}

		// Show Search if form is not active // event.preventDefault() is important, this prevents the form from submitting
		$(document).on('click', '.navbar-collapse form[role="search"]:not(.active) button[type="submit"]', function(event) {
			event.preventDefault();
			var $form = $(this).closest('form'),
				$input = $form.find('input');
			$form.addClass('active');
			$input.focus();

		});
    });

$(function() {
    var availableTags = [
      "AAL.L",
        "ABF.L",
        "ADM.L",
        "AHT.L",
        "AML.L",
        "ANTO.L",
        "AO..L",
        "AUTO.L",
        "AV..L",
        "AZN.L",
        "BARC.L",
        "BATS.L",
        "BDEV.L",
        "BLT.L",
        "BNZL.L",
        "BP..L",
        "BRBY.L",
        "BT.A.L",
        "CARD.L",
        "CCL.L",
        "CEY.L",
        "CNA.L",
        "CPG.L",
        "CPJ1.L",
        "CS51.L",
        "CTEC.L",
        "CU31.L",
        "CU71.L",
        "CUKS.L",
        "CYBG.L",
        "DGE.L",
        "DLG.L",
        "EMG.L",
        "EQQQ.L",
        "ERNS.L",
        "EXPN.L",
        "FERG.L",
        "FRES.L",
        "FTAL.L",
        "GAW.L",
        "GFS.L",
        "GLEN.L",
        "GRG.L",
        "GSK.L",
        "HAS.L",
        "HL..L",
        "HMCH.L",
        "HSBA.L",
        "IBTM.L",
        "IDVY.L",
        "IGG.L",
        "IGLS.L",
        "IGLT.L",
        "IHG.L",
        "IHHG.L",
        "III.L",
        "IMB.L",
        "INF.L",
        "INXG.L",
        "IS15.L",
        "ISF.L",
        "ISJP.L",
        "ISXF.L",
        "ITRK.L",
        "ITV.L",
        "IUKD.L",
        "IUKP.L",
        "IUSA.L",
        "IWDG.L",
        "JDW.L",
        "JE..L",
        "JMAT.L",
        "KGF.L",
        "LGEN.L",
        "LLOY.L",
        "LSE.L",
        "MCRO.L",
        "MDC.L",
        "MERL.L",
        "MIDD.L",
        "MKS.L",
        "MNDI.L",
        "MONY.L",
        "MRW.L",
        "MTRO.L",
        "NEX.L",
        "NG..L",
        "NXT.L",
        "OCDO.L",
        "OMU.L",
        "OSB.L",
        "PFG.L",
        "PRU.L",
        "PSN.L",
        "PSON.L",
        "RBS.L",
        "RDSB.L",
        "REL.L",
        "RIO.L",
        "RMG.L",
        "RMV.L",
        "ROBG.L",
        "RSA.L",
        "RTO.L",
        "SBRY.L",
        "SDR.L",
        "SDRY.L",
        "SGE.L",
        "SGLN.L",
        "SHP.L",
        "SLA.L",
        "SLXX.L",
        "SMIN.L",
        "SMT.L",
        "SN..L",
        "SPD.L",
        "SSE.L",
        "SSHY.L",
        "STAN.L",
        "STHS.L",
        "STJ.L",
        "SVS.L",
        "SVT.L",
        "SXX.L",
        "TED.L",
        "TSCO.L",
        "TW..L",
        "UKDV.L",
        "ULVR.L",
        "USDV.L",
        "UU..L",
        "VEUR.L",
        "VFEM.L",
        "VGOV.L",
        "VHYL.L",
        "VJPN.L",
        "VMID.L",
        "VOD.L",
        "VUCP.L",
        "VUSA.L",
        "VWRL.L",
        "WPP.L",
        "WTB.L",
        "XRSG.L",
        "XRSS.L",
        "XSX6.L"
    ];
    $("#search").autocomplete({
      source: availableTags
    });
  });